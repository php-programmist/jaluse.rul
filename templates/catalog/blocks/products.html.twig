<div class="products">
    {% for product in products %}
        <div class="product">
            <a href="/{{ product.uri }}/">
                <img {{ lazy_load(asset(product.imageCatalog),{},lazy_off|default(false)) }}
                        alt="{{ product.imageAlt }}"
                        title="{{ product.imageTitle }}"
                >
            </a>
            <div class="product__name"><a href="/{{ product.uri }}/">{{ product.name }}</a></div>
            <div class="product__price">{{ min_price(product, false, true) }}</div>
            <div class="d-flex justify-content-center flex-wrap">
                <button class="mbtn mbtn_orange js-modal-open" data-title="Рассчитать">Рассчитать</button>
                <button class="mbtn js-modal-open" data-title="Консультация">Консультация</button>
            </div>
        </div>
    {% endfor %}

</div>
<div class="text-center pagination-wrapper">
    {% set paginationData = products.paginationData %}
    {% if paginationData.current < paginationData.last %}
        {% set routeParams = products.params|merge({'page': paginationData.next}) %}
        <button class="mbtn js-load-next-products my-3"
                data-url="{{ path(products.route,routeParams) }}">Показать еще...
        </button>
    {% endif %}
    {{ knp_pagination_render(products) }}
</div>